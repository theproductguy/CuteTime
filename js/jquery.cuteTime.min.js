/* jQuery.CuteTime v 1.1.4 (4/19/2010) http://tpgblog.com/cutetime/
compiled by http://yui.2clics.net/ */
(function(e){var a=Number.NEGATIVE_INFINITY;var c=Number.POSITIVE_INFINITY;e.fn.cuteTime=function(m){var l=new Date().getTime();var n;var o;if((typeof m=="object")||(m==undefined)){e.fn.cuteTime.c_settings=e.extend({},e.fn.cuteTime.settings,m);e.fn.cuteTime.the_selected=this;this.each(function(){o=e(this);n=i(o);o.html(b(l-n))});e.fn.cuteTime.start_cuteness()}return this};e.cuteTime=function(m,p){var l=new Date().getTime();var o;var q;var n=null;if(typeof m=="object"){e.fn.cuteTime.c_settings=e.extend({},e.fn.cuteTime.settings,m)}if(typeof m=="string"){n=m}else{if(typeof p=="string"){n=p}}if(n!=null){o=k(n);if(!isNaN(o)){return b(l-o)}else{return"INVALID_DATETIME_FORMAT"}}return this};e.fn.cuteTime.settings={ts_attr:"data-timestamp",refresh:-1,time_ranges:[{bound:a,cuteness:"the future!",unit_size:0},{bound:0,cuteness:"just now",unit_size:0},{bound:20*1000,cuteness:"a few seconds ago",unit_size:0},{bound:60*1000,cuteness:"a minute ago",unit_size:0},{bound:60*1000*2,cuteness:" minutes ago",unit_size:60*1000},{bound:60*1000*60,cuteness:"an hour ago",unit_size:0},{bound:60*1000*60*2,cuteness:" hours ago",unit_size:60*1000*60},{bound:60*1000*60*24,cuteness:"yesterday",unit_size:0},{bound:60*1000*60*24*2,cuteness:" days ago",unit_size:60*1000*60*24},{bound:60*1000*60*24*30,cuteness:"last month",unit_size:0},{bound:60*1000*60*24*30*2,cuteness:" months ago",unit_size:60*1000*60*24*30},{bound:60*1000*60*24*30*12,cuteness:"last year",unit_size:0},{bound:60*1000*60*24*30*12*2,cuteness:" years ago",unit_size:60*1000*60*24*30*12},{bound:c,cuteness:"a blinkle ago",unit_size:0}]};e.fn.cuteTime.start_cuteness=function(){var l=e.fn.cuteTime.c_settings.refresh;if(e.fn.cuteTime.process_tracker==null){if(l>0){e.fn.cuteTime.process_tracker=setInterval("$.fn.cuteTime.update_cuteness()",l)}}else{}return this};e.fn.cuteTime.update_cuteness=function(){var l=new Date().getTime();var n;var m;e.fn.cuteTime.the_selected.each(function(){n=e(this);m=i(n);n.html(b(l-m))})};e.fn.cuteTime.stop_cuteness=function(){if(e.fn.cuteTime.process_tracker!=null){clearInterval(e.fn.cuteTime.process_tracker);e.fn.cuteTime.process_tracker=null}else{}return this};function b(p){var n=e.fn.cuteTime.c_settings.time_ranges;var m,o;var l="";jQuery.each(n,function(q,r){if(q<n.length-1){if((p>=r.bound)&&(p<n[q+1]["bound"])){if(r.unit_size>0){o=Math.floor(p/r.unit_size)}else{o=""}m=r.cuteness.replace(/%CT%/,o);if(m==r.cuteness){l=o+r.cuteness}else{l=m}return false}}else{return false}});if(l==""){l="2 pookies ago"}return l}function k(n){var l,m;if((m=f(n))!=null){l=m.valueOf()}else{l=(new Date(n)).valueOf();if(isNaN(l)){l=new Date(n.replace(/-/g," "))}}return l}function f(p){var l=p.match(/^(\d{4})((-(\d{2})(-(\d{2})(T(\d{2}):(\d{2})(:(\d{2})(.(\d+))?)?(Z|(([+-])((\d{2}):?(\d{2})))))?)?)?)$/);if(l!=null){var m=new Date();var o=0;var n=0;m.setUTCFullYear(l[1]);if(!d(l[4])){m.setUTCMonth(l[4]-1);if(!d(l[6])){m.setUTCDate(l[6]);if(!d(l[16])){o=l[18];n=l[19];if(l[16]=="-"){o*=-1;n*=-1}}if(!d(l[8])){m.setUTCHours(l[8]-o);m.setUTCMinutes(l[9]-n);if(!d(l[11])){m.setUTCSeconds(l[11]);if(!d(l[13])){m.setUTCMilliseconds(l[13]*1000)}}}}}return m}else{return null}}function d(l){if(null==l||""==l){return true}return false}function i(n){var m=Number.NaN;var l=g(n);if(l!=null){m=k(l)}if(isNaN(m)){l=h(n);if(l!=null){m=k(l)}}if(isNaN(m)){l=new Date().toString();m=k(l)}j(l,n);return m}function g(m){var l=m.attr(e.fn.cuteTime.c_settings.ts_attr);if(l!=undefined){return l}else{return null}}function j(l,m){m.attr(e.fn.cuteTime.c_settings.ts_attr,l)}function h(l){return l.text()}})(jQuery);